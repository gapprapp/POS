<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- Easy-autocomplete -->
  <script src="js/jquery.easy-autocomplete.js"></script>
  <link rel="stylesheet" href="css/easy-autocomplete.min.css">
  <link rel="stylesheet" href="css/easy-autocomplete.themes.min.css">
  <style>
    .easy-autocomplete-container { 
      max-height: 200px; 
      overflow-y: auto; 
    }
  </style>  
  <script>
  $(function() {
    var options = {url: function(phrase) {
        return "http://150.95.26.163:8080/gitmew/php/search.php";
      },
      getValue: function(element) {     
        return element.prod_name;
      },
      ajaxSettings: {
        method: "POST",
        data: {}
      },
      preparePostData: function(data) {   
        if($("#cus").val() == ""){
          $.alert({
            icon: 'fa fa-warning',
            title: 'เตือน',
            content: "กรุณาใส่ชื่อลูกค้าก่อนทำรายการ"
          });
          $("#cus").focus();
          $("#name").val("");
          return 0;
        }else{
          data.phrase = $("#name").val();
          return data;
        }
      },
      minCharNumber: 3,
      list: {         
          maxNumberOfElements: 1000,
          showAnimation: {
              type: "slide",
              time: 100
          },
          hideAnimation: {
              type: "slide",
              time: 100
          },
          onChooseEvent: function() {
            var barcode = $("#name").getSelectedItemData().barcode;
            price = $("#name").getSelectedItemData().prod_price;
            var unit_name = $("#name").getSelectedItemData().unit_name;
            prod_id = $("#name").getSelectedItemData().prod_id;
            img = $("#name").getSelectedItemData().img_string;
            old_price = $("#name").getSelectedItemData()[7].old_price;                     

            $('#barcode').val(barcode);
            $('#price').val(price);
            $('#unit').val(unit_name);
            $('#total').val(price);
          }
      },     
      requestDelay: 300,          
      };

    $("#name").easyAutocomplete(options);
  
  });
  </script>
</head>
<body>
 
<div>
  <input type="text" id="name"> 
 
</body>
</html>